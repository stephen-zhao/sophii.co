!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Draggamil=e()}(this,(function(){"use strict";return function(t,e){const n="data-draggamil-drag-id",i=document.querySelectorAll(e),r=document.querySelector(t),o={};let a=0;function c(t){if(!t||!t.target)return void u();const{dragItem:i,dragId:r}=function(t){let i=t.getAttribute(n);if(i)return{dragItem:t,dragId:i};const r=t.closest(e);if(i=r.getAttribute(n),i)return{dragItem:r,dragId:i};return}(t.target)??{};if(r){var c=o[r];"touchstart"===t.type?(c.initialX=t.touches[0].clientX-c.xOffset,c.initialY=t.touches[0].clientY-c.yOffset):(c.initialX=t.clientX-c.xOffset,c.initialY=t.clientY-c.yOffset),++a,i.style["z-index"]=a,c.active=!0}else u()}function u(){Object.keys(o).forEach((function(t){var e=o[t];e.active&&(e.initialX=e.currentX,e.initialY=e.currentY,e.active=!1)}))}function d(t){i.forEach((function(e){var i=e.getAttribute(n);if(i){var r=o[i];r.active&&(t.preventDefault(),"touchmove"===t.type?(r.currentX=t.touches[0].clientX-r.initialX,r.currentY=t.touches[0].clientY-r.initialY):(r.currentX=t.clientX-r.initialX,r.currentY=t.clientY-r.initialY),r.xOffset=r.currentX,r.yOffset=r.currentY,e.style.transform="translate3d("+r.currentX+"px, "+r.currentY+"px, 0) "+r.initialTransform)}}))}i.forEach((function(t,e){const i=""+e;t.setAttribute(n,i);const r=window.getComputedStyle(t).getPropertyValue("transform");o[i]={active:!1,currentX:void 0,currentY:void 0,initialX:void 0,initialY:void 0,initialTransform:"none"===r?"":r,xOffset:0,yOffset:0};var c=parseInt(window.getComputedStyle(t).getPropertyValue("z-index"))??0;c>a&&(a=c)})),r.addEventListener("touchstart",c,!1),r.addEventListener("touchend",u,!1),r.addEventListener("touchmove",d,!1),r.addEventListener("mousedown",c,!1),r.addEventListener("mouseup",u,!1),r.addEventListener("mouseleave",(function(t){r===t.target&&u()}),!1),r.addEventListener("mousemove",d,!1)}}));
//# sourceMappingURL=draggamil.min.js.map
