{"version":3,"sources":["webpack://Avoidance/webpack/bootstrap","webpack://Avoidance/./src/avoidance.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Avoidance","containerSelector","options","addChildrenAsParticles","containersCollection","document","querySelectorAll","this","containers","Array","slice","initOptions","trackedParticles","trackedParticleElementsSet","Set","mouseMoveHandler","clickHandler","touchStartHandler","touchEndHandler","forEach","container","children","length","startTrackingParticleElement","status","userOptions","factorMethod","calculateAvoidanceFactor","builtinMethods","scale","undefined","offset","power","displacementMethod","calculateAvoidanceDisplacement","thresholdRadius","timing","animate","timings","easeOutExpo","pathing","paths","particleSelector","particleElement","querySelector","containerElement","stopTrackingParticleElements","stopTrackingParticleElement","has","body","particle","Particle","push","add","foundIdx","findIndex","element","dispose","splice","particleElements","particleElementSet","filter","registerEventHandlers","deregisterEventHandlers","indexOf","removeChildrenAsParticles","idx","addEventListener","removeEventListener","event","touchStarted","touchEnded","preventDefault","currentTarget","mousePos","x","pageX","offsetLeft","y","pageY","offsetTop","computeAvoidance","renderImmediateAvoidance","touchPos","renderAnimatedAvoidance","userPos","renderCallback","containerRect","getBoundingClientRect","userPosRatio","width","height","particleSizeRatio","getSizeRatio","particleCentreOrigPosRatioRelUser","originalPosRatio","particleCentreOrigDistRelUser","geometry","getRadius","avoidanceFactor","avoidanceDisplacement","getUnitVector","style","display","particleNewPos","left","math","toPctStr","top","particleOldPosRatio","getPosRatio","particleNewPosRatio","bezierQuad","linear","move","originalDistance","elementSize","method","powerInverse","methodFn","particleOrigPosRelMouse","threshold","getDistance","pointA","pointB","Math","sqrt","pow","point","radius","inverse","param_scale","param_offset","NaN","exponential","exp","param_power","param_threshold_radius","directionUnitVector","noThreshold","FRAME_DURATION","duration","easeOutCubic","p0","p1","p2","time","distance","distanceFromTime","animation","setInterval","clearInterval","pos","elementRect"],"mappings":"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","file":"avoidance.var.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// avoidance.js\r\n// AUTHOR: Stephen Zhao\r\n// REPO: github.com/stephen-zhao/sophii.co\r\n\r\n// A standalone library for creating \"avoidance cloud\" effect.\r\n// All children of given containers will be animated to avoid the user's mouse.\r\n\r\n// The class which exposes the public API\r\nexport default class Avoidance {\r\n  // input:\r\n  //   containerSelector\r\n  //    - css-selector string which specifies the elements\r\n  //      inside which the avoidance effect is triggered.\r\n  //   options\r\n  //    - an settings object that takes the following *optional* key/values:\r\n  //      factorMethod: {\r\n  //        name: one of \"inverse\", \"powerInverse\", or \"exponential\"\r\n  //        scale: a number\r\n  //        offset: a number\r\n  //        power: a number\r\n  //      },\r\n  //      displacementMethod: {\r\n  //        name: one of \"noThreshold\" or \"threshold\"\r\n  //        thresholdRadius: a number\r\n  //      },\r\n  //      timing: one of\r\n  //        \"linear\", \"easeOutCubic\", \"easeOutExpo\"\r\n  //      pathing: one of\r\n  //        \"linear\", \"bezierQuad\"\r\n  //   addChildrenAsParticles\r\n  //    - boolean which specifies whether or not the children\r\n  //      of the containers are added initially as tracked\r\n  //      particles. Defaults to true.\r\n  constructor(containerSelector, options = {}, addChildrenAsParticles = true) {\r\n    // save the containers\r\n    var containersCollection = document.querySelectorAll(containerSelector);\r\n    this.containers = Array.prototype.slice.call(containersCollection);\r\n    // save options for future use\r\n    this.options = this.initOptions(options);\r\n    // init tracked particles\r\n    this.trackedParticles = [];\r\n    this.trackedParticleElementsSet = new Set();\r\n    // \"fix\" event listeners\r\n    this.mouseMoveHandler = this.mouseMoveHandler.bind(this);\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.touchStartHandler = this.touchStartHandler.bind(this);\r\n    this.touchEndHandler = this.touchEndHandler.bind(this);\r\n    // Create particles from all of the container's children\r\n    // and add them to the list of tracked particles, if specified to do so\r\n    if (addChildrenAsParticles) {\r\n      this.containers.forEach(function (container) {\r\n        for (var i = 0; i < container.children.length; ++i) {\r\n          this.startTrackingParticleElement(container.children[i], container);\r\n        }\r\n      }, this);\r\n    }\r\n    // set the initial status\r\n    this.status = \"ready\";\r\n  }\r\n\r\n  initOptions(userOptions) {\r\n    var options = {};\r\n\r\n    // Process factorMethod option\r\n    options.factorMethod = {};\r\n    if (\"factorMethod\" in userOptions) {\r\n      if (typeof userOptions.factorMethod === \"string\"\r\n          && (userOptions.factorMethod in Avoidance.calculateAvoidanceFactor.builtinMethods)) {\r\n        options.factorMethod.name = userOptions.factorMethod;\r\n        options.factorMethod.scale = undefined;\r\n        options.factorMethod.offset = undefined;\r\n        options.factorMethod.power = undefined;\r\n      }\r\n      else if (typeof userOptions.factorMethod === \"object\") {\r\n        if ((\"name\" in userOptions.factorMethod)\r\n            && (typeof userOptions.factorMethod.name === \"string\")\r\n            && (userOptions.factorMethod.name in Avoidance.calculateAvoidanceFactor.builtinMethods)) {\r\n          options.factorMethod.name = userOptions.factorMethod.name;\r\n        }\r\n        else {\r\n          options.factorMethod.name = undefined;\r\n        }\r\n        if ((\"scale\" in userOptions.factorMethod)\r\n            && (typeof userOptions.factorMethod.scale === \"number\")) {\r\n          options.factorMethod.scale = userOptions.factorMethod.scale;\r\n        }\r\n        else {\r\n          options.factorMethod.scale = undefined;\r\n        }\r\n        if ((\"offset\" in userOptions.factorMethod)\r\n            && (typeof userOptions.factorMethod.offset === \"number\")) {\r\n          options.factorMethod.offset = userOptions.factorMethod.offset;\r\n        }\r\n        else {\r\n          options.factorMethod.offset = undefined;\r\n        }\r\n        if ((\"power\" in userOptions.factorMethod)\r\n            && (typeof userOptions.factorMethod.power === \"number\")) {\r\n          options.factorMethod.power = userOptions.factorMethod.power;\r\n        }\r\n        else {\r\n          options.factorMethod.power = undefined;\r\n        }\r\n      }\r\n      else {\r\n        options.factorMethod.name = undefined;\r\n        options.factorMethod.scale = undefined;\r\n        options.factorMethod.offset = undefined;\r\n        options.factorMethod.power = undefined;\r\n      }\r\n    }\r\n\r\n    // Process displacementMethod\r\n    options.displacementMethod = {};\r\n    if (\"displacementMethod\" in userOptions) {\r\n      if (typeof userOptions.displacementMethod === \"string\"\r\n          && (userOptions.displacementMethod in Avoidance.calculateAvoidanceDisplacement.builtinMethods)) {\r\n        options.displacementMethod.name = userOptions.displacementMethod;\r\n        options.displacementMethod.thresholdRadius = undefined;\r\n      }\r\n      else if (typeof userOptions.displacementMethod === \"object\") {\r\n        if ((\"name\" in userOptions.displacementMethod)\r\n            && (typeof userOptions.displacementMethod.name === \"string\")\r\n            && (userOptions.displacementMethod.name in Avoidance.calculateAvoidanceDisplacement.builtinMethods)) {\r\n          options.displacementMethod.name = userOptions.displacementMethod.name;\r\n        }\r\n        else {\r\n          options.displacementMethod.name = undefined;\r\n        }\r\n        if ((\"thresholdRadius\" in userOptions.displacementMethod)\r\n            && (typeof userOptions.displacementMethod.thresholdRadius === \"number\")) {\r\n          options.displacementMethod.thresholdRadius = userOptions.displacementMethod.thresholdRadius;\r\n        }\r\n        else {\r\n          options.displacementMethod.thresholdRadius = undefined;\r\n        }\r\n      }\r\n      else {\r\n        options.displacementMethod.name = undefined;\r\n        options.displacementMethod.thresholdRadius = undefined;\r\n      }\r\n    }\r\n\r\n    // Process timings\r\n    if (\"timing\" in userOptions\r\n        && (typeof userOptions.timing === \"string\")\r\n        && (userOptions.timing in Avoidance.animate.timings)) {\r\n      options.timing = Avoidance.animate.timings[userOptions.timing];\r\n    }\r\n    else {\r\n      options.timing = Avoidance.animate.timings.easeOutExpo;\r\n    }\r\n    \r\n    // Process pathing\r\n    if (\"pathing\" in userOptions\r\n        && (typeof userOptions.pathing === \"string\")\r\n        && (userOptions.pathing in Avoidance.animate.paths)) {\r\n      options.pathing = userOptions.pathing;\r\n    }\r\n    else {\r\n      options.pathing = \"bezierQuad\";\r\n    }\r\n\r\n    return options;\r\n  }\r\n\r\n  addParticles(particleSelector, containerSelector) {\r\n    document.querySelectorAll(particleSelector).forEach(particleElement => {\r\n      this.startTrackingParticleElement(particleElement, containerSelector ? document.querySelector(containerSelector) : undefined);\r\n    }, this);\r\n  }\r\n\r\n  addParticleElement(particleElement, containerElement) {\r\n    this.startTrackingParticleElement(particleElement, containerElement);\r\n  }\r\n\r\n  removeParticles(particleSelector) {\r\n    this.stopTrackingParticleElements(document.querySelectorAll(particleSelector));\r\n  }\r\n\r\n  removeParticleElement(particleElement) {\r\n    this.stopTrackingParticleElement(particleElement);\r\n  }\r\n\r\n  startTrackingParticleElement(particleElement, containerElement) {\r\n    if (!this.trackedParticleElementsSet.has(particleElement)) {\r\n      if (!containerElement) {\r\n        containerElement = document.body;\r\n      }\r\n      var particle = new Avoidance.Particle(particleElement, containerElement);\r\n      this.trackedParticles.push(particle);\r\n      this.trackedParticleElementsSet.add(particleElement);\r\n    }\r\n  }\r\n\r\n  stopTrackingParticleElement(particleElement) {\r\n    if (this.trackedParticleElementsSet.has(particleElement)) {\r\n      // First remove from lookup set\r\n      this.trackedParticleElementsSet.delete(particleElement);\r\n      var foundIdx = this.trackedParticles.findIndex(function(particle) {\r\n        return particle.element === particleElement;\r\n      });\r\n      if (foundIdx !== -1) {\r\n        // Then dispose\r\n        this.trackedParticles[foundIdx].dispose();\r\n        // Then remove from tracked particles\r\n        this.trackedParticles.splice(foundIdx, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  stopTrackingParticleElements(particleElements) {\r\n    var particleElementSet = new Set(particleElements);\r\n    for (var i = 0; i < this.trackedParticles.length; ++i) {\r\n      if (particleElementSet.has(this.trackedParticles[i].element)) {\r\n        // First remove from lookup set\r\n        this.trackedParticleElementsSet.delete(this.trackedParticles[i].element);\r\n        // Then dispose\r\n        this.trackedParticles[i].dispose();\r\n        // Then remove from tracked particles\r\n        this.trackedParticles[i] = \"removed\";\r\n      }\r\n    }\r\n    // Realize the removal\r\n    this.trackedParticles = this.trackedParticles.filter(function(particle) {\r\n      return particle !== \"removed\";\r\n    });\r\n  }\r\n\r\n  start() {\r\n    // Add all event handlers to each container\r\n    this.containers.forEach(this.registerEventHandlers, this);\r\n    this.status = \"running\";\r\n  }\r\n\r\n  stop() {\r\n    // remove all event handlers from each container\r\n    this.containers.forEach(this.deregisterEventHandlers, this);\r\n    this.status = \"stopped\";\r\n  }\r\n\r\n  addContainers(containerSelector, addChildrenAsParticles = true) {\r\n    // Split work by processing each selected container iteratively\r\n    var containersCollection = document.querySelectorAll(containerSelector);\r\n    containersCollection.forEach(function(container) {\r\n      // Only add if not already added\r\n      var idx = this.containers.indexOf(container);\r\n      if (idx >= 0) {\r\n        return;\r\n      }\r\n      this.containers.push(container);\r\n      // Add children as particles if specified to do so\r\n      if (addChildrenAsParticles) {\r\n        for (var i = 0; i < container.children.length; ++i) {\r\n          this.startTrackingParticleElement(container.children[i]);\r\n        }\r\n      }\r\n      // Register handlers if we are already running\r\n      if (this.status === \"running\") {\r\n        this.registerEventHandlers(container);\r\n      }\r\n    }, this);\r\n  }\r\n\r\n  removeContainers(containerSelector, removeChildrenAsParticles = true) {\r\n    // Process each selected container iteratively\r\n    var containersCollection = document.querySelectorAll(containerSelector);\r\n    containersCollection.forEach(function(container) {\r\n      // Process only if the container is tracked\r\n      var idx = this.containers.indexOf(container);\r\n      if (idx < 0) {\r\n        return;\r\n      }\r\n      // Remove children as particles if specified to do so\r\n      if (removeChildrenAsParticles) {\r\n        this.stopTrackingParticleElements(container.children);\r\n      }\r\n      // Deregister events if we are running\r\n      if (this.status === \"running\") {\r\n        this.deregisterEventHandlers(container);\r\n      }\r\n      // Remove from tracked containers\r\n      this.containers.splice(idx, 1);\r\n    }, this);\r\n  }\r\n\r\n  registerEventHandlers(container) {\r\n    container.addEventListener(\"touchend\", this.touchEndHandler);\r\n    container.addEventListener(\"touchstart\", this.touchStartHandler);\r\n    container.addEventListener(\"mousemove\", this.mouseMoveHandler);\r\n    container.addEventListener(\"click\", this.clickHandler);\r\n  }\r\n\r\n  deregisterEventHandlers(container) {\r\n    container.removeEventListener(\"click\", this.clickHandler);\r\n    container.removeEventListener(\"mousemove\", this.mouseMoveHandler);\r\n    container.removeEventListener(\"touchstart\", this.touchStartHandler);\r\n    container.removeEventListener(\"touchend\", this.touchEndHandler);\r\n  }\r\n\r\n  mouseMoveHandler(event) {\r\n    if (this.touchStarted || this.touchEnded) {\r\n      // Do not handle a mouseMove for touch events\r\n      event.preventDefault();\r\n    }\r\n    else {\r\n      const container = event.currentTarget;\r\n      const mousePos = { x: event.pageX - container.offsetLeft, y: event.pageY - container.offsetTop };\r\n      this.computeAvoidance(container, mousePos, this.renderImmediateAvoidance.bind(this));\r\n    }\r\n  }\r\n\r\n  clickHandler(event) {\r\n    if (this.touchStarted || this.touchEnded) {\r\n      const container = event.currentTarget;\r\n      const touchPos = { x: event.pageX - container.offsetLeft, y: event.pageY - container.offsetTop };\r\n      this.computeAvoidance(container, touchPos, this.renderAnimatedAvoidance.bind(this));\r\n      this.touchStarted = false;\r\n      this.touchEnded = false;\r\n    }\r\n    else {\r\n      // click, but not touched\r\n    }\r\n  }\r\n\r\n  touchStartHandler(event) {\r\n    this.touchStarted = true;\r\n  }\r\n\r\n  touchEndHandler(event) {\r\n    this.touchEnded = true;\r\n  }\r\n\r\n  computeAvoidance(container, userPos, renderCallback) {\r\n    const containerRect = container.getBoundingClientRect();\r\n    const userPosRatio = {\r\n      x: userPos.x / containerRect.width,\r\n      y: userPos.y / containerRect.height,\r\n    };\r\n    this.trackedParticles.forEach(function (particle) {\r\n      const particleSizeRatio = particle.getSizeRatio();\r\n      const particleCentreOrigPosRatioRelUser = {\r\n        x: particle.originalPosRatio.x + particleSizeRatio.width*1.0 / 2 - userPosRatio.x,\r\n        y: particle.originalPosRatio.y + particleSizeRatio.height*1.0 / 2 - userPosRatio.y,\r\n      };\r\n      const particleCentreOrigDistRelUser = Avoidance.geometry.getRadius(particleCentreOrigPosRatioRelUser);\r\n      const avoidanceFactor = this.calculateAvoidanceFactor(particleCentreOrigDistRelUser, particleSizeRatio);\r\n      const avoidanceDisplacement = this.calculateAvoidanceDisplacement(\r\n        Avoidance.geometry.getUnitVector(particleCentreOrigPosRatioRelUser), avoidanceFactor);\r\n      renderCallback(avoidanceDisplacement, particle);\r\n    }, this);\r\n  }\r\n\r\n  renderImmediateAvoidance(avoidanceDisplacement, particle) {\r\n    if (avoidanceDisplacement === null) {\r\n      particle.element.style.display = \"none\";\r\n    }\r\n    else {\r\n      const particleNewPos = {\r\n        x: particle.originalPosRatio.x + avoidanceDisplacement.x,\r\n        y: particle.originalPosRatio.y + avoidanceDisplacement.y,\r\n      };\r\n      if (particle.element.style.display === \"none\") {\r\n        particle.element.style.display = \"\";\r\n      }\r\n      particle.element.style.left = Avoidance.math.toPctStr(particleNewPos.x);\r\n      particle.element.style.top = Avoidance.math.toPctStr(particleNewPos.y);\r\n    }\r\n  }\r\n\r\n  renderAnimatedAvoidance(avoidanceDisplacement, particle) {\r\n    if (avoidanceDisplacement === null) {\r\n      particle.element.style.display = \"none\";\r\n    }\r\n    else {\r\n      const particleOldPosRatio = particle.getPosRatio();\r\n      const particleNewPosRatio = {\r\n        x: particle.originalPosRatio.x + avoidanceDisplacement.x,\r\n        y: particle.originalPosRatio.y + avoidanceDisplacement.y,\r\n      };\r\n      if (particle.element.style.display === \"none\") {\r\n        particle.element.style.display = \"\";\r\n      }\r\n      const pathing = this.options.pathing === \"bezierQuad\"\r\n        ? Avoidance.animate.paths.bezierQuad(particleOldPosRatio, particle.originalPosRatio, particleNewPosRatio)\r\n        : Avoidance.animate.paths.linear(particleOldPosRatio, particleNewPosRatio);\r\n      Avoidance.animate.move(particle.element, pathing, 1000, this.options.timing);\r\n    }\r\n  }\r\n\r\n  calculateAvoidanceFactor(originalDistance, elementSize, method) {\r\n    if (method === undefined) {\r\n      method = this.options.factorMethod.name;\r\n    }\r\n    var methodFn = null;\r\n    if (method !== undefined) {\r\n      methodFn = Avoidance.calculateAvoidanceFactor.builtinMethods[method];\r\n    }\r\n    else {\r\n      methodFn = Avoidance.calculateAvoidanceFactor.builtinMethods.powerInverse;\r\n    }\r\n    return methodFn(\r\n      this.options.factorMethod.scale,\r\n      this.options.factorMethod.offset,\r\n      this.options.factorMethod.power\r\n    )(originalDistance, elementSize);\r\n  }\r\n  \r\n  calculateAvoidanceDisplacement(particleOrigPosRelMouse, avoidanceFactor, method) {\r\n    if (method === undefined) {\r\n      method = this.options.displacementMethod.name;\r\n    }\r\n    var methodFn = null;\r\n    if (method !== undefined) {\r\n      methodFn = Avoidance.calculateAvoidanceDisplacement.builtinMethods[method];\r\n    }\r\n    else {\r\n      methodFn = Avoidance.calculateAvoidanceDisplacement.builtinMethods.threshold;\r\n    }\r\n    return methodFn(\r\n      this.options.displacementMethod.thresholdRadius\r\n    )(particleOrigPosRelMouse, avoidanceFactor);\r\n  }\r\n}\r\n\r\nAvoidance.geometry = {\r\n  getDistance: function(pointA, pointB) {\r\n    return Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));\r\n  },\r\n  getRadius: function(point) {\r\n    return Math.sqrt(point.x*point.x + point.y*point.y);\r\n  },\r\n  getUnitVector: function(point) {\r\n    const radius = Avoidance.geometry.getRadius(point);\r\n    return {\r\n      x: point.x / radius,\r\n      y: point.y / radius,\r\n    };\r\n  }\r\n}\r\n\r\nAvoidance.calculateAvoidanceFactor = {\r\n  builtinMethods: {\r\n    inverse: function(param_scale=0.02, param_offset=0.0, param_power=undefined) {\r\n      return function(originalDistance, elementSize) {\r\n        if (originalDistance === 0) {\r\n          return NaN;\r\n        }\r\n        else {\r\n          return (param_scale*1.0)/originalDistance + param_offset;\r\n        }\r\n      }\r\n    },\r\n    exponential: function(param_scale=0.1, param_offset=0.0, param_power=undefined) {\r\n      return function(originalDistance, elementSize) {\r\n        return Math.exp(param_scale-originalDistance) + param_offset;\r\n      }\r\n    },\r\n    powerInverse: function(param_scale=0.02, param_offset=0.0, param_power=0.6) {\r\n      return function(originalDistance, elementSize) {\r\n        if (originalDistance === 0) {\r\n          return NaN;\r\n        }\r\n        else {\r\n          return ((param_scale*1.0)/Math.pow(originalDistance*1.0, param_power) + param_offset);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nAvoidance.calculateAvoidanceDisplacement = {\r\n  builtinMethods: {\r\n    threshold: function(param_threshold_radius=0.1) {\r\n      return function(directionUnitVector, avoidanceFactor) {\r\n        if (avoidanceFactor === NaN) {\r\n          return null;\r\n        }\r\n        var offset = {\r\n          x: directionUnitVector.x*avoidanceFactor,\r\n          y: directionUnitVector.y*avoidanceFactor,\r\n        };\r\n        if (Avoidance.geometry.getRadius(offset) > param_threshold_radius) {\r\n          return {\r\n            x: directionUnitVector.x*param_threshold_radius,\r\n            y: directionUnitVector.y*param_threshold_radius,\r\n          };\r\n        }\r\n        else {\r\n          return offset;\r\n        }\r\n      }\r\n    },\r\n    noThreshold: function(param_threshold_radius=undefined) {\r\n      return function(directionUnitVector, avoidanceFactor) {\r\n        if (avoidanceFactor === NaN) {\r\n          return null;\r\n        }\r\n        return {\r\n          x: directionUnitVector.x*avoidanceFactor,\r\n          y: directionUnitVector.y*avoidanceFactor,\r\n        };\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nAvoidance.math = {\r\n  toPctStr: function(x) {\r\n    return (100.0 * x) + \"%\";\r\n  }\r\n}\r\n\r\nAvoidance.animate = {\r\n  FRAME_DURATION: 10.0,\r\n  timings: {\r\n    linear: duration => t => t/duration,\r\n    easeOutCubic: duration => t => 1+Math.pow(t/duration-1, 3),\r\n    easeOutExpo: duration => t => 1-Math.pow(2, -10*t/duration),\r\n  },\r\n  paths: {\r\n    linear: function(p0, p1) {\r\n      return s => ({\r\n        x: p0.x + s*(p1.x - p0.x),\r\n        y: p0.y + s*(p1.y - p0.y),\r\n      });\r\n    },\r\n    bezierQuad: function(p0, p1, p2) {\r\n      return s => ({\r\n        x: p1.x + (1.0-s)*(1.0-s)*(p0.x-p1.x) + s*s*(p2.x-p1.x),\r\n        y: p1.y + (1.0-s)*(1.0-s)*(p0.y-p1.y) + s*s*(p2.y-p1.y),\r\n      }); // 0 <= s <= 1\r\n    },\r\n  },\r\n  move: function(element, pathing, duration, timing) {\r\n    var time = 0;\r\n    var distance = 0;\r\n    const distanceFromTime = timing(duration);\r\n    const animation = setInterval(() => {\r\n      // Check for final condition\r\n      if (time >= duration) {\r\n        clearInterval(animation);\r\n      }\r\n      // Calculate position\r\n      const pos = pathing(distance);\r\n      // Render\r\n      element.style.left = Avoidance.math.toPctStr(pos.x);\r\n      element.style.top = Avoidance.math.toPctStr(pos.y);\r\n      // Update vars for next iteration\r\n      time = time + this.FRAME_DURATION;\r\n      distance = distanceFromTime(time);\r\n    }, this.FRAME_DURATION);\r\n  },\r\n}\r\n\r\nAvoidance.Particle = class {\r\n  constructor(element, container) {\r\n    // Save both elements\r\n    this.element = element;\r\n    this.container = container;\r\n    this.originalPosRatio = this.getPosRatio();\r\n  }\r\n  getPosRatio() {\r\n    // Get position as percentage of container to get built-in responsiveness!\r\n    const elementRect = this.element.getBoundingClientRect();\r\n    const containerRect = this.container.getBoundingClientRect();\r\n    return {\r\n      x: (elementRect.left - containerRect.left) / containerRect.width,\r\n      y: (elementRect.top - containerRect.top) / containerRect.height,\r\n    };\r\n  }\r\n  getSizeRatio() {\r\n    // Get size as percentage of container to get built-in responsiveness!\r\n    const elementRect = this.element.getBoundingClientRect();\r\n    const containerRect = this.container.getBoundingClientRect();\r\n    return {\r\n      width: elementRect.width / containerRect.width,\r\n      height: elementRect.height / containerRect.height,\r\n    };\r\n  }\r\n  dispose() {\r\n    // TODO: return particle to original location, either by setting style or removing location style\r\n  }\r\n}"],"sourceRoot":""}